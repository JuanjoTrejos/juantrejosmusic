<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>WDV221 Intro Javascript</title>

<script>
	// [NEW] Generate random number from 1 to 10 at the start
	let numberToGuess = Math.floor(Math.random() * 10) + 1;

	// [NEW] Initialize a counter to track the number of guesses
	let guessCount = 0;

	function highLowGame(e) {
		e.preventDefault(); // [NEW] Prevent form from submitting and refreshing the page

		let inValue = parseInt(document.getElementById("inputGuess").value); // existing code
		let resultArea = document.getElementById("highLowResult"); // [NEW] Reference to result display area

		// [NEW] Input validation to ensure number is between 1 and 10
		if (isNaN(inValue) || inValue < 1 || inValue > 10) {
			resultArea.innerHTML = "Please enter a valid number from 1 to 10.";
			return;
		}

		// [NEW] Increment guess counter
		guessCount++;

		if (inValue === numberToGuess) {
			// [MODIFIED] Show success message and number of tries
			resultArea.innerHTML = `Congratulations! That is the number. You guessed it in ${guessCount} tries.`;

			// [NEW] Change result background to light blue
			resultArea.style.backgroundColor = "lightblue";
		} else {
			// [NEW] Display whether the guess was too high or too low
			let hint = inValue < numberToGuess ? "Too low!" : "Too high!";
			resultArea.innerHTML = `${hint} Guess #${guessCount}`;

			// [NEW] Clear any blue background from previous correct guesses
			resultArea.style.backgroundColor = "";
		}

		// [NEW] If more than 4 guesses, show red background and border
		if (guessCount > 4) {
			resultArea.style.border = "2px solid red";
			resultArea.style.backgroundColor = "lightcoral"; // light red
		}
	}

	function resetHighLowGame() {
		document.getElementById("highLowForm").reset(); // existing code
		let resultArea = document.getElementById("highLowResult"); // [NEW] Reference to result display area

		resultArea.innerHTML = ""; // existing code

		// [NEW] Reset background and border styles
		resultArea.style.backgroundColor = "";
		resultArea.style.border = "";

		// [NEW] Reset guess count and random number
		guessCount = 0;
		numberToGuess = Math.floor(Math.random() * 10) + 1;
	}
</script>


</head>

<body>
<h1>WDV221 Intro Javascript</h1>

    <h2>Skill Test - Finish High-Low Game</h2>

    <form name="highLowForm" id="highLowForm" method="post" action="">
    <fieldset>
    	<legend>High Low Game</legend>
    	<p>
        	<label>Input a number from 1-10
          		<input type="text" name="inputGuess" id="inputGuess">
        	</label>
       </p>
      <p>Result! <span id="highLowResult"></span></p>
      <p>
        <input type="submit" name="makeGuess" id="makeGuess" value="Make a Guess">
        <input type="button" name="resetHighLowGame" id="resetHighLowGame" value="Reset">
      </p>
	  <script>
			document.getElementById("makeGuess").addEventListener("click",highLowGame);	//assign click event to form button	
			document.getElementById("resetHighLowGame").addEventListener("click",resetHighLowGame);	
      </script>
    </fieldset>
</form>
<h3>Instructions:</h3>
<p>1. Complete the highLowGame function to play the game. </p>
<p>2. Change the function to include a guess counter. Display the number of guesses each time.</p>
<p>3. Change the background color of the Result area to light blue for a correct answer. </p>
<p>4. If the users takes more than 4 guesses change the background of the guess counter display to light red.</p>
<p>5. Change the reset function to reset the presentation changes.</p>
<p>&nbsp;</p>
    


</body>
</html>
